<div class="container-fluid mt-4">
  <div class="card shadow-sm">
    <div class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
      <h5 class="mb-0">Sistem İşlem Günlükleri (Audit Logs)</h5>
      <button class="btn btn-primary btn-sm" (click)="loadLogs()">
        <i class="fa fa-sync"></i> Yenile
      </button>
    </div>
    
    <div class="card-body p-0">
      <div *ngIf="isLoading" class="text-center my-5">
        <div class="spinner-border text-primary" role="status"></div>
        <p class="mt-2 text-muted">Loglar çekiliyor...</p>
      </div>

      <div *ngIf="!isLoading && logs.length === 0" class="alert alert-info m-3">
        Henüz bir işlem kaydı bulunamadı.
      </div>

      <div class="table-responsive" *ngIf="!isLoading && logs.length > 0">
        <table class="table table-hover table-striped mb-0">
          <thead class="table-light">
            <tr>
              <th scope="col">Kullanıcı ID</th>
              <th scope="col">İşlem</th>
              <th scope="col">Durum</th>
              <th scope="col">Açıklama</th>
              <th scope="col">IP Adresi</th>
              <th scope="col">Zaman Damgası</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let log of logs">
              <td><strong>#{{ log.userId }}</strong></td>
              <td>
                <span class="badge bg-secondary">{{ log.operationType }}</span>
              </td>
              <td>
                <span [ngClass]="log.status === 'Success' ? 'badge bg-success' : 'badge bg-danger'">
                  {{ log.status }}
                </span>
              </td>
              <td class="text-wrap" style="max-width: 250px;">{{ log.description }}</td>
              <td><code>{{ log.userIp }}</code></td>
              <td>{{ log.timeStamp | date:'dd.MM.yyyy HH:mm:ss' }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>