<div class="container-fluid mt-4">
  <div class="card shadow">
    <div class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
      <h5 class="mb-0">Sistem Denetim Günlükleri (Audit Logs)</h5>
      <button class="btn btn-sm btn-outline-light" (click)="loadLogs()">Yenile</button>
    </div>
    <div class="card-body">
      <div *ngIf="isLoading" class="text-center">
        <div class="spinner-border text-primary" role="status"></div>
      </div>

      <div class="table-responsive" *ngIf="!isLoading">
        <table class="table table-hover align-middle">
          <thead class="table-light">
            <tr>
              <th>ID</th>
              <th>Kullanıcı</th>
              <th>İşlem</th>
              <th>Durum</th>
              <th>Açıklama</th>
              <th>IP Adresi</th>
              <th>Tarih</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let log of logs">
              <td>#{{log.auditLogId || log.id}}</td>
              <td><span class="badge bg-info text-dark">UID: {{log.userId}}</span></td>
              <td><strong>{{log.operationType}}</strong></td>
              <td>
                <span [class]="log.status === 'Success' ? 'text-success' : 'text-danger'">
                  <i [class]="log.status === 'Success' ? 'bi bi-check-circle' : 'bi bi-x-circle'"></i>
                  {{log.status}}
                </span>
              </td>
              <td class="small">{{log.description}}</td>
              <td><code>{{log.userIp}}</code></td>
              <td>{{log.timeStamp | date:'dd.MM.yyyy HH:mm:ss'}}</td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <div *ngIf="!isLoading && logs.length === 0" class="alert alert-warning">
        Henüz bir işlem kaydı bulunamadı.
      </div>
    </div>
  </div>
</div>
